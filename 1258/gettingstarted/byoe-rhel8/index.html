
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../logo.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>Bring your own Envionment - Splunk Connect for Syslog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="orange">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sc4s-bring-your-own-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Splunk Connect for Syslog" class="md-header__button md-logo" aria-label="Splunk Connect for Syslog" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Splunk Connect for Syslog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bring your own Envionment
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Splunk Connect for Syslog" class="md-nav__button md-logo" aria-label="Splunk Connect for Syslog" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    Splunk Connect for Syslog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Getting Started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Read First
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../podman-systemd-general/" class="md-nav__link">
        Podman + systemd
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../docker-systemd-general/" class="md-nav__link">
        Docker CE + systemd
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../k8s-microk8s/" class="md-nav__link">
        MicroK8s + Linux
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../docker-swarm-general/" class="md-nav__link">
        Docker Compose
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../docker-compose-MacOS/" class="md-nav__link">
        Docker Desktop + Compose (MacOS)
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bring your own Envionment
      </a>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart_guide/" class="md-nav__link">
        Quickstart Guide
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        Architectural Considerations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../developing/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Sources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Sources" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Sources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/" class="md-nav__link">
        About
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Alcatel/" class="md-nav__link">
        Alcatel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Alsid/" class="md-nav__link">
        Alsid
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Avaya/" class="md-nav__link">
        Avaya
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Avi_Networks/" class="md-nav__link">
        Avi Networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Brocade/" class="md-nav__link">
        Brocade
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Checkpoint/" class="md-nav__link">
        Checkpoint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Cisco/" class="md-nav__link">
        Cisco
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Citrix/" class="md-nav__link">
        Citrix
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/CommonEventFormat/" class="md-nav__link">
        Common Event Format
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/CyberArk/" class="md-nav__link">
        CyberArk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Dell/" class="md-nav__link">
        Dell
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Dell_RSA/" class="md-nav__link">
        Dell RSA
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Dell_EMC/" class="md-nav__link">
        Dell EMC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/F5/" class="md-nav__link">
        F5
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/FireEye/" class="md-nav__link">
        FireEye
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Forcepoint/" class="md-nav__link">
        Forcepoint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Fortinet/" class="md-nav__link">
        Fortinet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/HAProxy/" class="md-nav__link">
        HAProxy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/HPe/" class="md-nav__link">
        HPe
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Imperva/" class="md-nav__link">
        Imperva
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/InfoBlox/" class="md-nav__link">
        InfoBlox
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/ISC/" class="md-nav__link">
        ISC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/LogExtendedEventFormat/" class="md-nav__link">
        Log Extended Format
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Juniper/" class="md-nav__link">
        Juniper
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Loggen/" class="md-nav__link">
        Loggen
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/McAfee/" class="md-nav__link">
        McAfee
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Microfocus/" class="md-nav__link">
        Microfocus
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Microsoft/" class="md-nav__link">
        Microsoft
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/NetApp/" class="md-nav__link">
        NetApp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Netmotion/" class="md-nav__link">
        Netmotion
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Novell/" class="md-nav__link">
        Novell
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/nix/" class="md-nav__link">
        Nix
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Ossec/" class="md-nav__link">
        OSSEC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/PaloaltoNetworks/" class="md-nav__link">
        Palo Alto Networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Pfsense/" class="md-nav__link">
        pfSense
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Polycom/" class="md-nav__link">
        Polycom
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Pulse/" class="md-nav__link">
        Pulse
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Proofpoint/" class="md-nav__link">
        Proofpoint
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Radware/" class="md-nav__link">
        Radware
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Ricoh/" class="md-nav__link">
        Ricoh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Schneider/" class="md-nav__link">
        Schneider
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Simple/" class="md-nav__link">
        Simple Sources
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Sophos/" class="md-nav__link">
        Sophos
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Spectracom/" class="md-nav__link">
        Spectracom
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Splunk/" class="md-nav__link">
        Splunk
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Broadcom/" class="md-nav__link">
        Broadcom
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Tanium/" class="md-nav__link">
        Tanium
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Tenable/" class="md-nav__link">
        Tenable
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Thycotic/" class="md-nav__link">
        Thycotic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Tintri/" class="md-nav__link">
        Tintri
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Trend/" class="md-nav__link">
        Trend
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Ubiquiti/" class="md-nav__link">
        Ubiquiti
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Vectra/" class="md-nav__link">
        Vectra
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Varonis/" class="md-nav__link">
        Varonis
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/VMWare/" class="md-nav__link">
        VMware
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Wallix/" class="md-nav__link">
        Wallix
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../sources/Zscaler/" class="md-nav__link">
        Zscaler
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../performance/" class="md-nav__link">
        Performance
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Troubleshooting
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Troubleshooting" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/troubleshoot_SC4S_server/" class="md-nav__link">
        SC4S Startup and Validation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/troubleshoot_resources/" class="md-nav__link">
        SC4S Logging and Troubleshooting Resources
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../upgrade/" class="md-nav__link">
        Upgrading SC4S
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        SC4S FAQ
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="sc4s-bring-your-own-environment">SC4S &ldquo;Bring Your Own Environment&rdquo;<a class="headerlink" href="#sc4s-bring-your-own-environment" title="Permanent link">&para;</a></h1>
<ul>
<li>FOREWORD:  The BYOE SC4S deliverable should be considered as a <em>secondary</em> option for SC4S deployment, and should be
considered only by those with specific needs based on advanced understanding of syslog-ng architectures and linux/syslog-ng
system administration.  The container deliverable is the preferred deliverable of SC4S for almost all enterprises.
If you are simply trying to &ldquo;get syslog working&rdquo;, the turnkey, container approach described in the other runtime documents will
be the fastest route to success.</li>
</ul>
<p>The &ldquo;Bring Your Own Environment&rdquo; instructions that follow allow expert administrators to utilize the SC4S syslog-ng
config files directly on the host OS running on a hardware server or virtual machine.  Administrators must provide an
appropriate host OS (RHEL 8 used in this document) as well as an up-to-date syslog-ng installation either built from source (not documented here) or
installed from community-built RPMs.  Modification of the base configuration will be required for most customer
environments due to enterprise infrastructure variations. Once installed preparing an upgrade requires evaluation of the current environment compared to this reference then developing and testing a installation specific install plan. This activity is the responsibility of the administrator.</p>
<ul>
<li>
<p>NOTE: Installing or modifying system configurations can have unexpected consequences, and advanced linux system
administration and syslog-ng configuration experience is assumed when using the BYOE version of SC4S.</p>
</li>
<li>
<p>NOTE:  Do <em>not</em> depend on the distribution-supplied version of syslog-ng, as it will likely be far too old.
Read this <a href="https://www.syslog-ng.com/community/b/blog/posts/installing-latest-syslog-ng-on-rhel-and-other-rpm-distributions">explanation</a>
for the reason why syslog-ng builds are so dated in almost all RHEL/Debian distributions.</p>
</li>
</ul>
<h1 id="byoe-installation-instructions">BYOE Installation Instructions<a class="headerlink" href="#byoe-installation-instructions" title="Permanent link">&para;</a></h1>
<p>These installation instructions assume a recent RHEL or CentOS-based release.  Minor adjustments may have to be made for
Debian/Ubuntu.  In addition, almost <em>all</em> pre-compiled binaries for syslog-ng assume installation in <code>/etc/syslog-ng</code>; these instructions
will reflect that.</p>
<p>The following installation instructions are summarized from a 
<a href="https://www.syslog-ng.com/community/b/blog/posts/introducing-the-syslog-ng-stable-rpm-repositories">blog</a>
maintained by a developer at One Identity (formerly Balabit), who is the owner of the syslog-ng Open Source project.
It is always adivisable to review the blog for the latest changes to the repo(s), as changes here are quite dynamic.</p>
<ul>
<li>
<p>Install CentOS or RHEL 8.0</p>
</li>
<li>
<p>Enable EPEL (Centos 8)</p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>dnf install <span class="s1">&#39;dnf-command(copr)&#39;</span> -y
dnf install epel-release -y
dnf copr <span class="nb">enable</span> czanik/syslog-ng333  -y
dnf install syslog-ng syslog-ng-python syslog-ng-http syslog-ng-afsnmp net-snmp python3-pip gcc python3-devel -y
</code></pre></div>

<ul>
<li>Disable the distro-supplied syslog-ng unit file, as the syslog-ng process configured here will run as the <code>sc4s</code>
service.  rsyslog will continue to be the system logger, but should be left enabled <em>only</em> if it is configured to not
listen on the same ports as sc4s.  sc4s BYOE can be configured to provide local logging as well if desired.</li>
</ul>
<div class="codehilite"><pre><span></span><code>sudo systemctl stop syslog-ng
sudo systemctl disable syslog-ng
</code></pre></div>

<ul>
<li>
<p>Download the latest bare_metal.tar from <a href="https://github.com/splunk/splunk-connect-for-syslog/releases">releases</a> on github and untar the package in <code>/etc/syslog-ng</code> using the command example below.</p>
</li>
<li>
<p>NOTE:  The <code>wget</code> process below will unpack a tarball with the sc4s version of the syslog-ng config files in the standard
<code>/etc/syslog-ng</code> location, and <em>will</em> overwrite existing content.  Ensure that any previous configurations of syslog-ng are saved
if needed prior to executing the download step.</p>
</li>
<li>
<p>NOTE:  At the time of writing, the latest major release is <code>v1.33</code>.  The latest release is typically listed first on the page above, unless
there is an <code>-alpha</code>,<code>-beta</code>, or <code>-rc</code> release that is newer (which will be clearly indicated).  For production use, select the latest that does not have an <code>-rc</code>, <code>-alpha</code>, or <code>-beta</code> suffix. </p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>sudo wget -c https://github.com/splunk/splunk-connect-for-syslog/releases/download/&lt;latest release&gt;/baremetal.tar -O - <span class="p">|</span> sudo tar -x -C /etc/syslog-ng
</code></pre></div>

<ul>
<li>Install python requirements </li>
</ul>
<div class="codehilite"><pre><span></span><code>sudo pip3 install -r /etc/syslog-ng/requirements.txt
</code></pre></div>

<ul>
<li>(Optional, for monitoring): Install <code>goss</code> and confirm that the version is v0.3.16 or newer.  <code>goss</code> installs in 
<code>/usr/local/bin</code> by default, so ensure that 1) <code>entrypoint.sh</code> is modified to include <code>/usr/local/bin</code> in the full path,
or 2) move the <code>goss</code> binary to <code>/bin</code> or <code>/usr/bin</code>.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">aelsabbahy</span><span class="o">/</span><span class="n">goss</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">latest</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">goss</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">amd64</span> <span class="o">-</span><span class="n">o</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">goss</span>
<span class="n">chmod</span> <span class="o">+</span><span class="n">rx</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">goss</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">aelsabbahy</span><span class="o">/</span><span class="n">goss</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">latest</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">dgoss</span> <span class="o">-</span><span class="n">o</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">dgoss</span>
<span class="c1"># Alternatively, using the latest</span>
<span class="c1"># curl -L https://raw.githubusercontent.com/aelsabbahy/goss/latest/extras/dgoss/dgoss -o /usr/local/bin/dgoss</span>
<span class="n">chmod</span> <span class="o">+</span><span class="n">rx</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">dgoss</span>
</code></pre></div>

<ul>
<li>
<p>There are two main options for running SC4S via systemd, the choice of which largely depends on administrator preference and
orchestration methodology: 1) the <code>entrypoint.sh</code> script (identical to that used in the container) can be run directly via systemd,
or 2) the script can be altered to preconfigure SC4S (after which only the syslog-ng and snmp executables are run via systemd). These
are by no means the only ways to run BYOE &ndash; as the name implies, the method you choose will be based on your custom needs.</p>
</li>
<li>
<p>To run the <code>entrypoint.sh</code> script directly in systemd, create the sc4s unit file <code>/lib/systemd/system/sc4s.service</code> and add the following
content:</p>
</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">SC4S Syslog Daemon</span>
<span class="na">Documentation</span><span class="o">=</span><span class="s">https://splunk-connect-for-syslog.readthedocs.io/en/latest/</span>
<span class="na">Wants</span><span class="o">=</span><span class="s">network.target network-online.target</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target network-online.target</span>

<span class="k">[Service]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/etc/syslog-ng/entrypoint.sh</span>
<span class="na">ExecReload</span><span class="o">=</span><span class="s">/bin/kill -HUP $MAINPID</span>
<span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">/etc/syslog-ng/env_file</span>
<span class="na">StandardOutput</span><span class="o">=</span><span class="s">journal</span>
<span class="na">StandardError</span><span class="o">=</span><span class="s">journal</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">on-abnormal</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>

<ul>
<li>To run <code>entrypoint.sh</code> as a &ldquo;preconfigure&rdquo; script, modify the script by commenting out or removing the stanzas following the
<code>OPTIONAL for BYOE</code> comments in the script.  This will prevent syslog-ng (and optionally snmptrapd) from being launched by the script.
Then create the sc4s unit file <code>/lib/systemd/system/syslog-ng.service</code> and add the following content:</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">System Logger Daemon</span>
<span class="na">Documentation</span><span class="o">=</span><span class="s">man:syslog-ng(8)</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target</span>

<span class="k">[Service]</span>
<span class="na">Type</span><span class="o">=</span><span class="s">notify</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/sbin/syslog-ng -F $SYSLOGNG_OPTS -p /var/run/syslogd.pid</span>
<span class="na">ExecReload</span><span class="o">=</span><span class="s">/bin/kill -HUP $MAINPID</span>
<span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">-/etc/default/syslog-ng</span>
<span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">-/etc/sysconfig/syslog-ng</span>
<span class="na">StandardOutput</span><span class="o">=</span><span class="s">journal</span>
<span class="na">StandardError</span><span class="o">=</span><span class="s">journal</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">on-failure</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>

<ul>
<li>Create the file <code>/etc/syslog-ng/env_file</code> and add the following environment variables (adjusting the URL/TOKEN appropriately):</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="c1"># The following &quot;path&quot; variables can differ from the container defaults specified in the entrypoint.sh script. </span>
<span class="c1"># These are *optional* for most BYOE installations, which do noot differ from the install location used.</span>
<span class="c1"># in the container version of SC4S.  Failure to properly set these will cause startup failure.</span>
<span class="c1">#SC4S_ETC=/etc/syslog-ng</span>
<span class="c1">#SC4S_VAR=/etc/syslog-ng/var</span>
<span class="c1">#SC4S_BIN=/bin</span>
<span class="c1">#SC4S_SBIN=/usr/sbin</span>
<span class="c1">#SC4S_TLS=/etc/syslog-ng/tls</span>

<span class="c1"># General Options</span>
<span class="n">SC4S_DEST_SPLUNK_HEC_DEFAULT_URL</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">splunk</span><span class="o">.</span><span class="n">smg</span><span class="o">.</span><span class="n">aws</span><span class="p">:</span><span class="mi">8088</span>
<span class="n">SC4S_DEST_SPLUNK_HEC_DEFAULT_TOKEN</span><span class="o">=</span><span class="n">a778f63a</span><span class="o">-</span><span class="mi">5</span><span class="n">dff</span><span class="o">-</span><span class="mf">4e3</span><span class="n">c</span><span class="o">-</span><span class="n">a72c</span><span class="o">-</span><span class="n">a03183659e94</span>

<span class="c1"># Uncomment the following line if using untrusted (self-signed) SSL certificates</span>
<span class="c1"># SC4S_DEST_SPLUNK_HEC_DEFAULT_TLS_VERIFY=no</span>
</code></pre></div>

<ul>
<li>Reload systemctl and restart syslog-ng (example here is shown for systemd option (1) above)</li>
</ul>
<div class="codehilite"><pre><span></span><code>sudo systemctl daemon-reload
sudo systemctl <span class="nb">enable</span> sc4s
sudo systemctl start sc4s
</code></pre></div>

<h2 id="configure-sc4s-listening-ports">Configure SC4S Listening Ports<a class="headerlink" href="#configure-sc4s-listening-ports" title="Permanent link">&para;</a></h2>
<p>Most enterprises use UDP/TCP port 514 as the default as their main listening port for syslog &ldquo;soup&rdquo; traffic, and TCP port 6514 for TLS.
The standard SC4S configuration reflect these defaults.  These defaults can be changed by adding the following
additional environment variables with appropriate values to the <code>env_file</code> above:</p>
<div class="codehilite"><pre><span></span><code>SC4S_LISTEN_DEFAULT_TCP_PORT=514
SC4S_LISTEN_DEFAULT_UDP_PORT=514
SC4S_LISTEN_DEFAULT_RFC6587_PORT=601
SC4S_LISTEN_DEFAULT_RFC5426_PORT=601
SC4S_LISTEN_DEFAULT_RFC5425_PORT=5425
SC4S_LISTEN_DEFAULT_TLS_PORT=6514
</code></pre></div>

<h3 id="dedicated-unique-listening-ports">Dedicated (Unique) Listening Ports<a class="headerlink" href="#dedicated-unique-listening-ports" title="Permanent link">&para;</a></h3>
<p>For certain source technologies, categorization by message content is impossible due to the lack of a unique &ldquo;fingerprint&rdquo; in
the data.  In other cases, a unique listening port is required for certain devices due to network requirements in the enterprise.
For collection of such sources we provide a means of dedicating a unique listening port to a specific source.</p>
<p>Refer to the &ldquo;Sources&rdquo; documentation to identify the specific environment variables used to enable unique listening ports for the technology
in use.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../docker-compose-MacOS/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Docker Desktop + Compose (MacOS)" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Docker Desktop + Compose (MacOS)
            </div>
          </div>
        </a>
      
      
        
        <a href="../quickstart_guide/" class="md-footer__link md-footer__link--next" aria-label="Next: Quickstart Guide" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Quickstart Guide
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.409db549.min.js", "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>